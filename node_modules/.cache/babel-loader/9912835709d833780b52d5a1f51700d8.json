{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/MOHAM/Desktop/Team-Finder-Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _createForOfIteratorHelper = require(\"C:/Users/MOHAM/Desktop/Team-Finder-Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _classCallCheck = require(\"C:/Users/MOHAM/Desktop/Team-Finder-Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:/Users/MOHAM/Desktop/Team-Finder-Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar idlUtils = require(\"../generated/utils\");\n\nvar _require = require(\"../helpers/traversal\"),\n    closest = _require.closest;\n\nvar _require2 = require(\"../helpers/form-controls\"),\n    isDisabled = _require2.isDisabled,\n    isSubmittable = _require2.isSubmittable,\n    isButton = _require2.isButton,\n    normalizeToCRLF = _require2.normalizeToCRLF;\n\nvar Blob = require(\"../generated/Blob.js\");\n\nvar File = require(\"../generated/File.js\");\n\nvar conversions = require(\"webidl-conversions\");\n\nexports.implementation = /*#__PURE__*/function () {\n  function FormDataImpl(globalObject, args) {\n    _classCallCheck(this, FormDataImpl);\n\n    this._globalObject = globalObject;\n    this._entries = [];\n\n    if (args[0] !== undefined) {\n      this._entries = constructTheEntryList(args[0]);\n    }\n  }\n\n  _createClass(FormDataImpl, [{\n    key: \"append\",\n    value: function append(name, value, filename) {\n      var entry = createAnEntry(name, value, filename);\n\n      this._entries.push(entry);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(name) {\n      this._entries = this._entries.filter(function (entry) {\n        return entry.name !== name;\n      });\n    }\n  }, {\n    key: \"get\",\n    value: function get(name) {\n      var foundEntry = this._entries.find(function (entry) {\n        return entry.name === name;\n      });\n\n      return foundEntry !== undefined ? idlUtils.tryWrapperForImpl(foundEntry.value) : null;\n    }\n  }, {\n    key: \"getAll\",\n    value: function getAll(name) {\n      return this._entries.filter(function (entry) {\n        return entry.name === name;\n      }).map(function (entry) {\n        return idlUtils.tryWrapperForImpl(entry.value);\n      });\n    }\n  }, {\n    key: \"has\",\n    value: function has(name) {\n      return this._entries.findIndex(function (entry) {\n        return entry.name === name;\n      }) !== -1;\n    }\n  }, {\n    key: \"set\",\n    value: function set(name, value, filename) {\n      var entry = createAnEntry(name, value, filename);\n\n      var foundIndex = this._entries.findIndex(function (e) {\n        return e.name === name;\n      });\n\n      if (foundIndex !== -1) {\n        this._entries[foundIndex] = entry;\n        this._entries = this._entries.filter(function (e, i) {\n          return e.name !== name || i === foundIndex;\n        });\n      } else {\n        this._entries.push(entry);\n      }\n    }\n  }, {\n    key: Symbol.iterator,\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function value() {\n      var _iterator, _step, entry;\n\n      return _regeneratorRuntime.wrap(function value$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _iterator = _createForOfIteratorHelper(this._entries);\n              _context.prev = 1;\n\n              _iterator.s();\n\n            case 3:\n              if ((_step = _iterator.n()).done) {\n                _context.next = 9;\n                break;\n              }\n\n              entry = _step.value;\n              _context.next = 7;\n              return [entry.name, idlUtils.tryWrapperForImpl(entry.value)];\n\n            case 7:\n              _context.next = 3;\n              break;\n\n            case 9:\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n\n              _iterator.e(_context.t0);\n\n            case 14:\n              _context.prev = 14;\n\n              _iterator.f();\n\n              return _context.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, value, this, [[1, 11, 14, 17]]);\n    })\n  }]);\n\n  return FormDataImpl;\n}();\n\nfunction createAnEntry(name, value, filename) {\n  var entry = {\n    name: name\n  }; // https://github.com/whatwg/xhr/issues/75\n\n  if (Blob.isImpl(value) && !File.isImpl(value)) {\n    var oldValue = value;\n    value = File.createImpl(value._globalObject, [[], \"blob\", {\n      type: oldValue.type\n    }]); // \"representing the same bytes\"\n\n    value._buffer = oldValue._buffer;\n  }\n\n  if (File.isImpl(value) && filename !== undefined) {\n    var _oldValue = value;\n    value = File.createImpl(value._globalObject, [[], filename, // spec makes no mention of `lastModified`; assume it is inherited\n    // (Chrome's behavior)\n    {\n      type: _oldValue.type,\n      lastModified: _oldValue.lastModified\n    }]); // \"representing the same bytes\"\n\n    value._buffer = _oldValue._buffer;\n  }\n\n  entry.value = value;\n  return entry;\n}\n\nfunction constructTheEntryList(form, submitter) {\n  // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#constructing-the-form-data-set\n  // TODO: handle encoding\n  // TODO: handling \"constructing entry list\"\n  var controls = form.elements.filter(isSubmittable); // submittable is a subset of listed\n\n  var entryList = [];\n\n  var _iterator2 = _createForOfIteratorHelper(controls),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var field = _step2.value;\n\n      if (closest(field, \"datalist\") !== null) {\n        continue;\n      }\n\n      if (isDisabled(field)) {\n        continue;\n      }\n\n      if (isButton(field) && field !== submitter) {\n        continue;\n      }\n\n      if (field.type === \"checkbox\" && field._checkedness === false) {\n        continue;\n      }\n\n      if (field.type === \"radio\" && field._checkedness === false) {\n        continue;\n      }\n\n      if (field.localName === \"object\") {\n        // in jsdom, no objects are \"using a plugin\"\n        continue;\n      } // TODO: Handle <input type=\"image\">\n      // TODO: handle form-associated custom elements.\n\n\n      var name = field.getAttributeNS(null, \"name\");\n\n      if (name === null || name === \"\") {\n        continue;\n      }\n\n      if (field.localName === \"select\") {\n        var _iterator3 = _createForOfIteratorHelper(field.options),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var option = _step3.value;\n\n            if (option._selectedness === true && !isDisabled(field)) {\n              appendAnEntry(entryList, name, option._getValue());\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      } else if (field.localName === \"input\" && (field.type === \"checkbox\" || field.type === \"radio\")) {\n        var _value = field.hasAttributeNS(null, \"value\") ? field.getAttributeNS(null, \"value\") : \"on\";\n\n        appendAnEntry(entryList, name, _value);\n      } else if (field.type === \"file\") {\n        if (field.files.length === 0) {\n          var _value2 = File.createImpl(form._globalObject, [[], \"\", {\n            type: \"application/octet-stream\"\n          }]);\n\n          appendAnEntry(entryList, name, _value2);\n        } else {\n          for (var i = 0; i < field.files.length; ++i) {\n            appendAnEntry(entryList, name, field.files.item(i));\n          }\n        }\n      }\n      /* skip plugins. TODO: _charset_ */\n      else if (field.localName === \"textarea\") {\n          appendAnEntry(entryList, name, field._getValue(), true);\n        } else {\n          appendAnEntry(entryList, name, field._getValue());\n        }\n\n      var dirname = field.getAttributeNS(null, \"dirname\");\n\n      if (dirname !== null && dirname !== \"\") {\n        var dir = \"ltr\"; // jsdom does not (yet?) implement actual directionality\n\n        appendAnEntry(entryList, dirname, dir);\n      }\n    } // TODO: formdata event\n\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return entryList;\n}\n\nfunction appendAnEntry(entryList, name, value) {\n  var preventLineBreakNormalization = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  name = conversions.USVString(normalizeToCRLF(name));\n\n  if (!File.isImpl(value)) {\n    if (!preventLineBreakNormalization) {\n      value = normalizeToCRLF(value);\n    }\n\n    value = conversions.USVString(value);\n  }\n\n  var entry = createAnEntry(name, value);\n  entryList.push(entry);\n}","map":{"version":3,"sources":["C:/Users/MOHAM/Desktop/Team-Finder-Client/node_modules/jsdom/lib/jsdom/living/xhr/FormData-impl.js"],"names":["idlUtils","require","closest","isDisabled","isSubmittable","isButton","normalizeToCRLF","Blob","File","conversions","exports","implementation","globalObject","args","_globalObject","_entries","undefined","constructTheEntryList","name","value","filename","entry","createAnEntry","push","filter","foundEntry","find","tryWrapperForImpl","map","findIndex","foundIndex","e","i","Symbol","iterator","isImpl","oldValue","createImpl","type","_buffer","lastModified","form","submitter","controls","elements","entryList","field","_checkedness","localName","getAttributeNS","options","option","_selectedness","appendAnEntry","_getValue","hasAttributeNS","files","length","item","dirname","dir","preventLineBreakNormalization","USVString"],"mappings":"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","sourcesContent":["\"use strict\";\nconst idlUtils = require(\"../generated/utils\");\nconst { closest } = require(\"../helpers/traversal\");\nconst { isDisabled, isSubmittable, isButton, normalizeToCRLF } = require(\"../helpers/form-controls\");\nconst Blob = require(\"../generated/Blob.js\");\nconst File = require(\"../generated/File.js\");\nconst conversions = require(\"webidl-conversions\");\n\nexports.implementation = class FormDataImpl {\n  constructor(globalObject, args) {\n    this._globalObject = globalObject;\n    this._entries = [];\n\n    if (args[0] !== undefined) {\n      this._entries = constructTheEntryList(args[0]);\n    }\n  }\n\n  append(name, value, filename) {\n    const entry = createAnEntry(name, value, filename);\n    this._entries.push(entry);\n  }\n\n  delete(name) {\n    this._entries = this._entries.filter(entry => entry.name !== name);\n  }\n\n  get(name) {\n    const foundEntry = this._entries.find(entry => entry.name === name);\n    return foundEntry !== undefined ? idlUtils.tryWrapperForImpl(foundEntry.value) : null;\n  }\n\n  getAll(name) {\n    return this._entries.filter(entry => entry.name === name).map(entry => idlUtils.tryWrapperForImpl(entry.value));\n  }\n\n  has(name) {\n    return this._entries.findIndex(entry => entry.name === name) !== -1;\n  }\n\n  set(name, value, filename) {\n    const entry = createAnEntry(name, value, filename);\n\n    const foundIndex = this._entries.findIndex(e => e.name === name);\n    if (foundIndex !== -1) {\n      this._entries[foundIndex] = entry;\n      this._entries = this._entries.filter((e, i) => e.name !== name || i === foundIndex);\n    } else {\n      this._entries.push(entry);\n    }\n  }\n\n  * [Symbol.iterator]() {\n    for (const entry of this._entries) {\n      yield [entry.name, idlUtils.tryWrapperForImpl(entry.value)];\n    }\n  }\n};\n\nfunction createAnEntry(name, value, filename) {\n  const entry = { name };\n\n  // https://github.com/whatwg/xhr/issues/75\n\n  if (Blob.isImpl(value) && !File.isImpl(value)) {\n    const oldValue = value;\n    value = File.createImpl(value._globalObject, [\n      [],\n      \"blob\",\n      { type: oldValue.type }\n    ]);\n    // \"representing the same bytes\"\n    value._buffer = oldValue._buffer;\n  }\n\n  if (File.isImpl(value) && filename !== undefined) {\n    const oldValue = value;\n    value = File.createImpl(value._globalObject, [\n      [],\n      filename,\n      // spec makes no mention of `lastModified`; assume it is inherited\n      // (Chrome's behavior)\n      { type: oldValue.type, lastModified: oldValue.lastModified }\n    ]);\n    // \"representing the same bytes\"\n    value._buffer = oldValue._buffer;\n  }\n\n  entry.value = value;\n\n  return entry;\n}\n\nfunction constructTheEntryList(form, submitter) {\n  // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#constructing-the-form-data-set\n  // TODO: handle encoding\n  // TODO: handling \"constructing entry list\"\n\n  const controls = form.elements.filter(isSubmittable); // submittable is a subset of listed\n  const entryList = [];\n\n  for (const field of controls) {\n    if (closest(field, \"datalist\") !== null) {\n      continue;\n    }\n    if (isDisabled(field)) {\n      continue;\n    }\n    if (isButton(field) && field !== submitter) {\n      continue;\n    }\n    if (field.type === \"checkbox\" && field._checkedness === false) {\n      continue;\n    }\n    if (field.type === \"radio\" && field._checkedness === false) {\n      continue;\n    }\n    if (field.localName === \"object\") { // in jsdom, no objects are \"using a plugin\"\n      continue;\n    }\n\n    // TODO: Handle <input type=\"image\">\n    // TODO: handle form-associated custom elements.\n\n    const name = field.getAttributeNS(null, \"name\");\n    if (name === null || name === \"\") {\n      continue;\n    }\n\n    if (field.localName === \"select\") {\n      for (const option of field.options) {\n        if (option._selectedness === true && !isDisabled(field)) {\n          appendAnEntry(entryList, name, option._getValue());\n        }\n      }\n    } else if (field.localName === \"input\" && (field.type === \"checkbox\" || field.type === \"radio\")) {\n      const value = field.hasAttributeNS(null, \"value\") ? field.getAttributeNS(null, \"value\") : \"on\";\n      appendAnEntry(entryList, name, value);\n    } else if (field.type === \"file\") {\n      if (field.files.length === 0) {\n        const value = File.createImpl(form._globalObject, [[], \"\", { type: \"application/octet-stream\" }]);\n        appendAnEntry(entryList, name, value);\n      } else {\n        for (let i = 0; i < field.files.length; ++i) {\n          appendAnEntry(entryList, name, field.files.item(i));\n        }\n      }\n    } /* skip plugins. TODO: _charset_ */ else if (field.localName === \"textarea\") {\n      appendAnEntry(entryList, name, field._getValue(), true);\n    } else {\n      appendAnEntry(entryList, name, field._getValue());\n    }\n\n    const dirname = field.getAttributeNS(null, \"dirname\");\n    if (dirname !== null && dirname !== \"\") {\n      const dir = \"ltr\"; // jsdom does not (yet?) implement actual directionality\n      appendAnEntry(entryList, dirname, dir);\n    }\n  }\n\n  // TODO: formdata event\n\n  return entryList;\n}\n\nfunction appendAnEntry(entryList, name, value, preventLineBreakNormalization = false) {\n  name = conversions.USVString(normalizeToCRLF(name));\n  if (!File.isImpl(value)) {\n    if (!preventLineBreakNormalization) {\n      value = normalizeToCRLF(value);\n    }\n    value = conversions.USVString(value);\n  }\n  const entry = createAnEntry(name, value);\n  entryList.push(entry);\n}\n"]},"metadata":{},"sourceType":"script"}