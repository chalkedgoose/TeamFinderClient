{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import _defineProperty from\"/Users/abarre/Desktop/TeamFinder/TeamFinderClient/TeamFinderClient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/abarre/Desktop/TeamFinder/TeamFinderClient/TeamFinderClient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/abarre/Desktop/TeamFinder/TeamFinderClient/TeamFinderClient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/abarre/Desktop/TeamFinder/TeamFinderClient/TeamFinderClient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/abarre/Desktop/TeamFinder/TeamFinderClient/TeamFinderClient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{axiosWithAuth}from'../Components/axiosWithAuth';import{Link,Redirect,useHistory}from'react-router-dom';import axios from'axios';import{useState,useEffect,useReducer,withRouter}from'react';var Login=function Login(props){var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var history=useHistory();var token=window.localStorage.getItem('token');if(token!==''&&token!==null){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();axiosWithAuth().post('/login',state).then(function(res){window.localStorage.setItem('token',res.data.token)(res);window.location.reload();}).catch(function(err){setAlert(/*#__PURE__*/_jsx(\"div\",{className:\"alert\",children:\"'Either your email or password is incorrect'\"}));});case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;setState(function(state){return _objectSpread(_objectSpread({},state),{},_defineProperty({},id,value.toLowerCase()));});};var handleChange2=function handleChange2(e){var _e$target2=e.target,id=_e$target2.id,value=_e$target2.value;setState(function(state){return _objectSpread(_objectSpread({},state),{},_defineProperty({},id,value));});};return/*#__PURE__*/_jsx(\"div\",{className:\"login-cont login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"auth-cont\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"Login\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"p\",{children:\" Login to team finder\"}),alert,/*#__PURE__*/_jsx(\"input\",{id:\"email\",placeholder:\"email\",value:state.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:state.password,id:\"password\",placeholder:\"Password\",onChange:handleChange2}),/*#__PURE__*/_jsxs(Link,{className:\"blue\",to:\"/forgot\",children:[' ',\"forgot password ?\"]}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\" dont have an account signup\"}),/*#__PURE__*/_jsx(\"a\",{className:\"authSubmit\",onClick:handleSubmit,children:\"Login\"})]})})});};export default Login;","map":{"version":3,"sources":["/Users/abarre/Desktop/TeamFinder/TeamFinderClient/TeamFinderClient/src/Auth/Login.js"],"names":["React","axiosWithAuth","Link","Redirect","useHistory","axios","useState","useEffect","useReducer","withRouter","Login","props","email","password","state","setState","alert","setAlert","history","token","window","localStorage","getItem","handleSubmit","e","preventDefault","post","then","res","setItem","data","location","reload","catch","err","handleChange","target","id","value","toLowerCase","handleChange2"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { axiosWithAuth } from '../Components/axiosWithAuth'\nimport { Link, Redirect, useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport { useState, useEffect, useReducer, withRouter } from 'react'\n\nconst Login = (props) => {\n    const [state, setState] = useState({\n        email: '',\n        password: '',\n    })\n\n    const [alert, setAlert] = useState()\n\n    let history = useHistory()\n    const token = window.localStorage.getItem('token')\n    if (token !== '' && token !== null) {\n        return <Redirect to=\"/\" />\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        axiosWithAuth()\n            .post('/login', state)\n            .then((res) => {\n                window.localStorage.setItem('token', res.data.token)(res)\n                window.location.reload()\n            })\n            .catch((err) => {\n                setAlert(\n                    <div className=\"alert\">\n                        'Either your email or password is incorrect'\n                    </div>\n                )\n            })\n    }\n\n    const handleChange = (e) => {\n        const { id, value } = e.target\n        setState((state) => ({\n            ...state,\n            [id]: value.toLowerCase(),\n        }))\n    }\n\n    const handleChange2 = (e) => {\n        const { id, value } = e.target\n        setState((state) => ({\n            ...state,\n            [id]: value,\n        }))\n    }\n\n    return (\n        <div className=\"login-cont login\">\n            <div className=\"auth-cont\">\n                {/* <h4> Welcome login!</h4> */}\n\n                <form className=\"Login\" onSubmit={handleSubmit}>\n                    <p> Login to team finder</p>\n                    {alert}\n                    <input\n                        id=\"email\"\n                        placeholder=\"email\"\n                        value={state.email}\n                        onChange={handleChange}\n                    />\n                    <input\n                        type=\"password\"\n                        value={state.password}\n                        id=\"password\"\n                        placeholder=\"Password\"\n                        onChange={handleChange2}\n                    />\n                    <Link className=\"blue\" to=\"/forgot\">\n                        {' '}\n                        forgot password ?\n                    </Link>\n                    <Link to=\"/signup\"> dont have an account signup</Link>\n\n                    <a className=\"authSubmit\" onClick={handleSubmit}>\n                        Login\n                    </a>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}