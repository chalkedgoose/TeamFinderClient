{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/abarre/Desktop/TeamFinder/TeamFinderClient/TeamFinderClient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/abarre/Desktop/TeamFinder/TeamFinderClient/TeamFinderClient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/abarre/Desktop/TeamFinder/TeamFinderClient/TeamFinderClient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';var Forum=function Forum(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),messages=_useState2[0],setMessages=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];console.log(props.name);var _useState5=useState('messagebubble'),_useState6=_slicedToArray(_useState5,2),messageName=_useState6[0],setMessageName=_useState6[1];var name=window.localStorage.getItem('name');var u=window.localStorage.getItem('userInfo');var token=window.localStorage.getItem('token');useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _name;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://jobs-xmmtw.ondigitalocean.app/Forum/messaging',{headers:{authorization:token}});case 3:_name=_context.sent;setMessages(_name.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log('failed');case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[]);var Submit=function Submit(e){e.preventDefault();axios.post('https://jobs-xmmtw.ondigitalocean.app/Forum/messaging',{content:message,name:name,date:Date.now()},{headers:{authorization:token}},{}).then(function(res){}).catch(function(err){alert(err);});};var Change=function Change(e){setMessage(e.target.value);};useEffect(function(){messages.map(function(item){if(item.name===name){setMessageName('messagebubble me');}});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"messageCont\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Messages\",children:[messages.map(function(item){if(item.name===name){return/*#__PURE__*/_jsx(\"div\",{className:\"mesCont\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"messagebubble me\",children:item.content}),/*#__PURE__*/_jsx(\"p\",{className:\"name\",children:item.name})]},item.id)});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"messagebubble\",children:item.content}),/*#__PURE__*/_jsx(\"p\",{className:\"name\",children:item.name})]},item.id);}}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:Submit,children:[/*#__PURE__*/_jsx(\"input\",{onChange:Change,value:message}),/*#__PURE__*/_jsx(\"button\",{onClick:Submit,children:\"Send\"})]})]})});};export default Forum;","map":{"version":3,"sources":["/Users/abarre/Desktop/TeamFinder/TeamFinderClient/TeamFinderClient/src/Components/Forum.js"],"names":["React","useState","useEffect","axios","Forum","props","messages","setMessages","message","setMessage","console","log","name","messageName","setMessageName","window","localStorage","getItem","u","token","get","headers","authorization","data","Submit","e","preventDefault","post","content","date","Date","now","then","res","catch","err","alert","Change","target","value","map","item","id"],"mappings":"goBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,eACWJ,QAAQ,CAAC,EAAD,CADnB,wCACdK,QADc,eACJC,WADI,8BAESN,QAAQ,EAFjB,yCAEdO,OAFc,eAELC,UAFK,eAGrBC,OAAO,CAACC,GAAR,CAAYN,KAAK,CAACO,IAAlB,EAHqB,eAIiBX,QAAQ,CAAC,eAAD,CAJzB,yCAIdY,WAJc,eAIDC,cAJC,eAKrB,GAAMF,CAAAA,IAAI,CAAGG,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAb,CACA,GAAMC,CAAAA,CAAC,CAAGH,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAV,CACA,GAAME,CAAAA,KAAK,CAAGJ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAd,CACAf,SAAS,sEAAC,mLAEiBC,CAAAA,KAAK,CAACiB,GAAN,CACf,uDADe,CAEf,CACIC,OAAO,CAAE,CACLC,aAAa,CAAEH,KADV,CADb,CAFe,CAFjB,QAEIP,KAFJ,eAUFL,WAAW,CAACK,KAAI,CAACW,IAAN,CAAX,CAVE,+EAYFb,OAAO,CAACC,GAAR,CAAY,QAAZ,EAZE,oEAAD,GAcN,EAdM,CAAT,CAeA,GAAMa,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,CAAD,CAAO,CAClBA,CAAC,CAACC,cAAF,GACAvB,KAAK,CACAwB,IADL,CAEQ,uDAFR,CAGQ,CACIC,OAAO,CAAEpB,OADb,CAEII,IAAI,CAAEA,IAFV,CAGIiB,IAAI,CAAEC,IAAI,CAACC,GAAL,EAHV,CAHR,CAQQ,CACIV,OAAO,CAAE,CACLC,aAAa,CAAEH,KADV,CADb,CARR,CAaQ,EAbR,EAeKa,IAfL,CAeU,SAACC,GAAD,CAAS,CAAE,CAfrB,EAgBKC,KAhBL,CAgBW,SAACC,GAAD,CAAS,CACZC,KAAK,CAACD,GAAD,CAAL,CACH,CAlBL,EAmBH,CArBD,CAsBA,GAAME,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACZ,CAAD,CAAO,CAClBhB,UAAU,CAACgB,CAAC,CAACa,MAAF,CAASC,KAAV,CAAV,CACH,CAFD,CAIArC,SAAS,CAAC,UAAM,CACZI,QAAQ,CAACkC,GAAT,CAAa,SAACC,IAAD,CAAU,CACnB,GAAIA,IAAI,CAAC7B,IAAL,GAAcA,IAAlB,CAAwB,CACpBE,cAAc,CAAC,kBAAD,CAAd,CACH,CACJ,CAJD,EAKH,CANQ,CAMN,EANM,CAAT,CAQA,mBACI,YAAK,SAAS,CAAC,aAAf,uBACI,aAAK,SAAS,CAAC,UAAf,WACKR,QAAQ,CAACkC,GAAT,CAAa,SAACC,IAAD,CAAU,CACpB,GAAIA,IAAI,CAAC7B,IAAL,GAAcA,IAAlB,CAAwB,CACpB,mBACI,YAAK,SAAS,CAAC,SAAf,uBACI,aAAK,SAAS,CAAC,SAAf,wBACI,UAAG,SAAS,CAAC,kBAAb,UACK6B,IAAI,CAACb,OADV,EADJ,cAII,UAAG,SAAS,CAAC,MAAb,UAAqBa,IAAI,CAAC7B,IAA1B,EAJJ,GAA8B6B,IAAI,CAACC,EAAnC,CADJ,EADJ,CAUH,CAXD,IAWO,CACH,mBACI,aAAK,SAAS,CAAC,SAAf,wBACI,UAAG,SAAS,CAAC,eAAb,UAA8BD,IAAI,CAACb,OAAnC,EADJ,cAEI,UAAG,SAAS,CAAC,MAAb,UAAqBa,IAAI,CAAC7B,IAA1B,EAFJ,GAA8B6B,IAAI,CAACC,EAAnC,CADJ,CAMH,CACJ,CApBA,CADL,cAsBI,cAAM,QAAQ,CAAElB,MAAhB,wBACI,cAAO,QAAQ,CAAEa,MAAjB,CAAyB,KAAK,CAAE7B,OAAhC,EADJ,cAEI,eAAQ,OAAO,CAAEgB,MAAjB,kBAFJ,GAtBJ,GADJ,EADJ,CA+BH,CAxFD,CA0FA,cAAepB,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nconst Forum = (props) => {\n    const [messages, setMessages] = useState([])\n    const [message, setMessage] = useState()\n    console.log(props.name)\n    const [messageName, setMessageName] = useState('messagebubble')\n    const name = window.localStorage.getItem('name')\n    const u = window.localStorage.getItem('userInfo')\n    const token = window.localStorage.getItem('token')\n    useEffect(async () => {\n        try {\n            const name = await axios.get(\n                'https://jobs-xmmtw.ondigitalocean.app/Forum/messaging',\n                {\n                    headers: {\n                        authorization: token,\n                    },\n                }\n            )\n            setMessages(name.data)\n        } catch {\n            console.log('failed')\n        }\n    }, [])\n    const Submit = (e) => {\n        e.preventDefault()\n        axios\n            .post(\n                'https://jobs-xmmtw.ondigitalocean.app/Forum/messaging',\n                {\n                    content: message,\n                    name: name,\n                    date: Date.now(),\n                },\n                {\n                    headers: {\n                        authorization: token,\n                    },\n                },\n                {}\n            )\n            .then((res) => {})\n            .catch((err) => {\n                alert(err)\n            })\n    }\n    const Change = (e) => {\n        setMessage(e.target.value)\n    }\n\n    useEffect(() => {\n        messages.map((item) => {\n            if (item.name === name) {\n                setMessageName('messagebubble me')\n            }\n        })\n    }, [])\n\n    return (\n        <div className=\"messageCont\">\n            <div className=\"Messages\">\n                {messages.map((item) => {\n                    if (item.name === name) {\n                        return (\n                            <div className=\"mesCont\">\n                                <div className=\"message\" key={item.id}>\n                                    <p className=\"messagebubble me\">\n                                        {item.content}\n                                    </p>\n                                    <p className=\"name\">{item.name}</p>\n                                </div>\n                            </div>\n                        )\n                    } else {\n                        return (\n                            <div className=\"message\" key={item.id}>\n                                <p className=\"messagebubble\">{item.content}</p>\n                                <p className=\"name\">{item.name}</p>\n                            </div>\n                        )\n                    }\n                })}\n                <form onSubmit={Submit}>\n                    <input onChange={Change} value={message} />\n                    <button onClick={Submit}>Send</button>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default Forum\n"]},"metadata":{},"sourceType":"module"}